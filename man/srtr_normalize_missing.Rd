% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/srtr_normalize_missing.R
\name{srtr_normalize_missing}
\alias{srtr_normalize_missing}
\title{Normalize Missing Value Representations in SRTR Data}
\usage{
srtr_normalize_missing(
  df,
  missing_vals = NULL,
  replacement = NA,
  verbose = FALSE
)
}
\arguments{
\item{df}{A data frame from an SRTR SAF file.}

\item{missing_vals}{An optional named list. The \code{srtr_normalize_missing()} function defaults to an internal list of
variables to normalize and values to convert to the specified replacement value.
Each name corresponds to a column in \code{df}, and each element is a vector of values to treat as missing in that column.
Any values matched will be replaced by \code{replacement}. Columns not present in \code{df} are silently skipped.}

\item{replacement}{The value to use in place of the missing representations. Defaults to \code{NA}.
If a string is provided (e.g., \code{"Missing"}), both missing codes and \code{NA} values will be replaced.
If the column is a factor and \code{replacement} is not \code{NA}, the replacement will be added as a new factor level.}

\item{verbose}{Logical. If \code{TRUE}, the function prints a message for each column it modifies,
including skipped columns that are not found in \code{df}.}
}
\value{
A modified version of \code{df}, with all specified missing values (and possibly \code{NA}s) replaced by \code{replacement}.
}
\description{
Replaces common non-standard representations of missing values (e.g., -1, 999, "Unknown")
with either \code{NA} or a user-specified string (e.g., \code{"Missing"}). This includes both
explicit missing codes (provided via \code{missing_vals}) and, if \code{replacement} is not \code{NA},
any existing \code{NA} values in the specified columns.
}
\details{
This function is helpful for harmonizing SRTR datasets, which may use multiple codes
to represent missingness (e.g., -1 for numeric fields, "U" or "Unknown" for character or factor fields).
}
\examples{
\dontrun{
df <- load_srtr_file("TX_LI")

# Use default SRTR-wide missing definitions
srtr_normalize_missing(df)

# Explicitly define missing values and convert all missing to "Missing"
missing_vals <- list(
  REC_HIV_STAT = c("U", ""),
  REC_HCV_STAT = c("U", ""),
)
srtr_normalize_missing(df, missing_vals, replacement = "Missing")
}
}
