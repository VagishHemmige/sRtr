% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/composite-death-variable.R
\name{srtr_composite_death}
\alias{srtr_composite_death}
\title{Composite death date (OPTN > SSA > TFL)}
\usage{
srtr_composite_death(
  df,
  optn = "PERS_OPTN_DEATH_DT",
  ssa = "PERS_SSA_DEATH_DT",
  tfl = "TFL_DEATH_DT",
  out = "REC_DEATH_DT_COMPOSITE",
  parse = TRUE,
  keep_source = TRUE,
  add_conflict_flag = TRUE,
  prefer_earliest = FALSE
)
}
\arguments{
\item{df}{A data frame.}

\item{optn, ssa, tfl}{Character column names for OPTN, SSA, and TFL death dates.}

\item{out}{Name of the output composite column to create.}

\item{parse}{If TRUE, parse the three inputs with \code{.srtr_as_date()}.}

\item{keep_source}{If TRUE, add \verb{\{out\}_source} with the chosen source label.}

\item{add_conflict_flag}{If TRUE, add \verb{\{out\}_conflict} when sources disagree.}

\item{prefer_earliest}{If TRUE, ignore precedence and choose the earliest date.}
}
\value{
\code{df} with added composite column (and optional source/conflict columns).
}
\description{
Builds a composite death date column using precedence across the typical SRTR
sources: OPTN (PERS_OPTN_DEATH_DT), SSA (PERS_SSA_DEATH_DT), then TFL (TFL_DEATH_DT).
By default it respects this precedence using \code{dplyr::coalesce()}. Optionally,
set \code{prefer_earliest = TRUE} to pick the earliest non-missing date instead.
}
\details{
Columns are parsed with \code{.srtr_as_date()} to accept YYYYMMDD integers/strings.
You can also keep a "which source won" indicator and a conflict flag when
multiple sources disagree.
}
\examples{
\dontrun{
df <- srtr_composite_death(df)
}
}
