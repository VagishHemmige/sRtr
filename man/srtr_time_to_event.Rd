% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_time_to_event_variables.R
\name{srtr_time_to_event}
\alias{srtr_time_to_event}
\title{Build time-to-event variables for SRTR-style data}
\usage{
srtr_time_to_event(
  df,
  event_date,
  start_date,
  censor_date,
  prefix,
  units = c("years", "months", "days"),
  add_epsilon = 1,
  warn_negative = TRUE
)
}
\arguments{
\item{df}{A data frame.}

\item{event_date}{Event date column (unquoted).}

\item{start_date}{Start date column (unquoted), e.g., \code{REC_TX_DT}.}

\item{censor_date}{Censor/last-follow-up date column (unquoted), e.g., \code{TFL_LAFUDATEPA}.}

\item{prefix}{String used for new columns (e.g., "REC_DEATH").}

\item{units}{One of "years", "months", or "days". Default "years".}

\item{add_epsilon}{Numeric days to add to time (to avoid zero-time issues).
Default 1. Set to 0 to disable. Logical TRUE/FALSE also accepted
(treated as 1/0) for backward compatibility.}

\item{warn_negative}{Warn and set to NA if computed time is negative. Default TRUE.}
}
\value{
\code{df} with added columns:
\verb{\{prefix\}_CENSOR}, \verb{\{prefix\}_BINARY}, \verb{\{prefix\}_\{units-suffix\}}, \verb{\{prefix\}_NEGATIVE_TIME}.
}
\description{
Creates three columns for an outcome defined by an event date and a censor date:
\itemize{
\item {prefix}_CENSOR: event date if present, otherwise censor date
\item {prefix}_BINARY: 1 if event date present, else 0
\item {prefix}_{unit}: numeric time from start_date to {prefix}_CENSOR in chosen units
}
}
\details{
Units suffix mapping: \code{years -> "_yrs"}, \code{months -> "_months"}, \code{days -> "_days"}.
Negative times (e.g., when \code{start_date > censor/event}) are flagged in \verb{\{prefix\}_NEGATIVE_TIME},
and the numeric time is set to \code{NA}.#'
}
