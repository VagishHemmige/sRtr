<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="sRtr">
<title>Getting Started with sRtr • sRtr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with sRtr">
<meta property="og:description" content="sRtr">
<meta property="og:image" content="https://vagishhemmige.github.io/sRtr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><meta name="google-site-verification" content="TBumihuxSFxK8muRvdo69ca7bmvzWmy-3OMfCZ2692A">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sRtr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/getting-started.html">Getting Started with sRtr</a>
    <a class="dropdown-item" href="../articles/building-cohort-with-strobe.html">Building Cohorts with STROBE Diagrams</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/VagishHemmige/sRtr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting Started with sRtr</h1>
                        <h4 data-toc-skip class="author">Vagish
Hemmige</h4>
            
            <h4 data-toc-skip class="date">2025-07-12</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/VagishHemmige/sRtr/blob/HEAD/vignettes/getting-started.Rmd" class="external-link"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="d-none name"><code>getting-started.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>sRtr</code> package provides comprehensive tools for
working with Scientific Registry of Transplant Recipients (SRTR)
Standard Analysis Files (SAFs) in R. This vignette will guide you
through the essential steps of setting up your environment and loading
SRTR data files with proper labeling.</p>
<div class="section level3">
<h3 id="what-is-srtr">What is SRTR?<a class="anchor" aria-label="anchor" href="#what-is-srtr"></a>
</h3>
<p>The Scientific Registry of Transplant Recipients (SRTR) is a
comprehensive database that tracks transplant data in the United States.
The SRTR Standard Analysis Files (SAFs) contain de-identified
patient-level data that researchers can use to study transplant
outcomes, waiting list dynamics, and donor characteristics.</p>
</div>
<div class="section level3">
<h3 id="package-overview">Package Overview<a class="anchor" aria-label="anchor" href="#package-overview"></a>
</h3>
<p>The <code>sRtr</code> package streamlines the process of:</p>
<ul>
<li>Setting up your SRTR data directory</li>
<li>Loading SRTR files with automatic format detection</li>
<li>Applying official SRTR variable labels and factor conversions</li>
<li>Preparing data for analysis with proper documentation</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>sRtr</code> from
GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"VagishHemmige/sRtr"</span><span class="op">)</span></span></code></pre></div>
<p>Load the package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/VagishHemmige/sRtr" class="external-link">sRtr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://larmarange.github.io/labelled/" class="external-link">labelled</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setting-up-your-srtr-data-directory">Setting Up Your SRTR Data Directory<a class="anchor" aria-label="anchor" href="#setting-up-your-srtr-data-directory"></a>
</h2>
<p>Before you can load SRTR files, you need to tell the package where
your SRTR data files are located. The <code><a href="../reference/set_SRTR_wd.html">set_SRTR_wd()</a></code>
function allows you to specify the directory containing your SRTR
files.</p>
<div class="section level3">
<h3 id="temporary-setup-session-only">Temporary Setup (Session Only)<a class="anchor" aria-label="anchor" href="#temporary-setup-session-only"></a>
</h3>
<p>For a single R session, you can set the working directory
temporarily:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Point to your SRTR data directory for this session only</span></span>
<span><span class="fu"><a href="../reference/set_SRTR_wd.html">set_SRTR_wd</a></span><span class="op">(</span><span class="st">"path/to/your/srtr/files"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="permanent-setup">Permanent Setup<a class="anchor" aria-label="anchor" href="#permanent-setup"></a>
</h3>
<p>If you frequently work with SRTR data, you can set the directory
permanently by adding the <code>permanent = TRUE</code> argument:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set the directory permanently across R sessions</span></span>
<span><span class="fu"><a href="../reference/set_SRTR_wd.html">set_SRTR_wd</a></span><span class="op">(</span><span class="st">"path/to/your/srtr/files"</span>, permanent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>This will save your preference and automatically load it in future R
sessions.</p>
</div>
<div class="section level3">
<h3 id="verifying-your-setup">Verifying Your Setup<a class="anchor" aria-label="anchor" href="#verifying-your-setup"></a>
</h3>
<p>After setting your working directory, the package will automatically
detect the available SRTR files in your directory. You can verify that
your setup is working correctly by checking if your files are
recognized.</p>
</div>
</div>
<div class="section level2">
<h2 id="loading-srtr-files">Loading SRTR Files<a class="anchor" aria-label="anchor" href="#loading-srtr-files"></a>
</h2>
<p>The primary function for loading SRTR data is
<code><a href="../reference/load_srtr_file.html">load_srtr_file()</a></code>. This function can load both SAS
(.sas7bdat) and Parquet (.parquet) files and automatically applies the
appropriate SRTR data dictionary.</p>
<div class="section level3">
<h3 id="basic-file-loading">Basic File Loading<a class="anchor" aria-label="anchor" href="#basic-file-loading"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load a transplant file (liver transplants)</span></span>
<span><span class="va">tx_li</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"TX_LI"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load a waiting list file (kidney candidates)</span></span>
<span><span class="va">cand_kida</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"CAND_KIDA"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load a donor file</span></span>
<span><span class="va">donor</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"DONOR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="loading-with-labels">Loading with Labels<a class="anchor" aria-label="anchor" href="#loading-with-labels"></a>
</h3>
<p>One of the key features of <code>sRtr</code> is its ability to
automatically apply variable labels and factor conversions using the
official SRTR data dictionary.</p>
<div class="section level4">
<h4 id="variable-labels">Variable Labels<a class="anchor" aria-label="anchor" href="#variable-labels"></a>
</h4>
<p>Variable labels provide descriptive names for each column:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load with variable labels</span></span>
<span><span class="va">tx_li</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"TX_LI"</span>, var_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View variable labels</span></span>
<span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">REC_AGE_AT_TX</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">GRAFT_STAT</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="factor-labels">Factor Labels<a class="anchor" aria-label="anchor" href="#factor-labels"></a>
</h4>
<p>Factor labels convert coded values to meaningful categories:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load with factor labels</span></span>
<span><span class="va">tx_li</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"TX_LI"</span>, factor_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View factor levels</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View factor labels for transplant status</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">GRAFT_STAT</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="complete-labeling">Complete Labeling<a class="anchor" aria-label="anchor" href="#complete-labeling"></a>
</h4>
<p>For the most informative data, load with both variable and factor
labels:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load with both variable and factor labels</span></span>
<span><span class="va">tx_li</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"TX_LI"</span>, var_labels <span class="op">=</span> <span class="cn">TRUE</span>, factor_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Now you have both descriptive variable names and meaningful factor levels</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="working-with-labeled-data">Working with Labeled Data<a class="anchor" aria-label="anchor" href="#working-with-labeled-data"></a>
</h2>
<p>Once you’ve loaded your SRTR data with labels, you can work with it
like any other R data frame, but with the added benefit of meaningful
variable and factor labels.</p>
<div class="section level3">
<h3 id="exploring-your-data">Exploring Your Data<a class="anchor" aria-label="anchor" href="#exploring-your-data"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic data exploration</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the first few rows</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Summary statistics with meaningful labels</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">tx_li</span><span class="op">$</span><span class="va">REC_AGE_AT_TX</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="preserving-labels-during-analysis">Preserving Labels During Analysis<a class="anchor" aria-label="anchor" href="#preserving-labels-during-analysis"></a>
</h3>
<p>The <code>labelled</code> package helps preserve your variable labels
during data manipulation:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter data while preserving labels</span></span>
<span><span class="va">recent_tx</span> <span class="op">&lt;-</span> <span class="va">tx_li</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">TX_DATE</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">TX_DATE</span>, <span class="va">DON_RACE</span>, <span class="va">REC_AGE_AT_TX</span>, <span class="va">GRAFT_STAT</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Labels are preserved</span></span>
<span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">recent_tx</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="independent-labeling-functions">Independent Labeling Functions<a class="anchor" aria-label="anchor" href="#independent-labeling-functions"></a>
</h2>
<p>If you already have loaded SRTR data (e.g., from another source), you
can apply labels independently using the dedicated labeling
functions.</p>
<div class="section level3">
<h3 id="applying-factor-labels">Applying Factor Labels<a class="anchor" aria-label="anchor" href="#applying-factor-labels"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load raw data</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">read_sas</span><span class="op">(</span><span class="st">"TX_KI.sas7bdat"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply factor labels</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/apply_srtr_factors.html">apply_srtr_factors</a></span><span class="op">(</span><span class="va">df</span>, filekey <span class="op">=</span> <span class="st">"TX_KI"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the result</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="applying-variable-labels">Applying Variable Labels<a class="anchor" aria-label="anchor" href="#applying-variable-labels"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Apply variable labels</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/apply_srtr_varlabels.html">apply_srtr_varlabels</a></span><span class="op">(</span><span class="va">df</span>, filekey <span class="op">=</span> <span class="st">"TX_KI"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View variable labels</span></span>
<span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">REC_AGE_AT_TX</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="automatic-file-detection">Automatic File Detection<a class="anchor" aria-label="anchor" href="#automatic-file-detection"></a>
</h3>
<p>If your data frame name matches the SRTR file name, you can omit the
<code>filekey</code> parameter:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load data with matching name</span></span>
<span><span class="va">TX_KI</span> <span class="op">&lt;-</span> <span class="fu">read_sas</span><span class="op">(</span><span class="st">"TX_KI.sas7bdat"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply labels without specifying filekey</span></span>
<span><span class="va">TX_KI</span> <span class="op">&lt;-</span> <span class="va">TX_KI</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/apply_srtr_factors.html">apply_srtr_factors</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/apply_srtr_varlabels.html">apply_srtr_varlabels</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="common-srtr-file-types">Common SRTR File Types<a class="anchor" aria-label="anchor" href="#common-srtr-file-types"></a>
</h2>
<p>The <code>sRtr</code> package supports all standard SRTR file types.
Here are some commonly used files:</p>
<div class="section level3">
<h3 id="transplant-files">Transplant Files<a class="anchor" aria-label="anchor" href="#transplant-files"></a>
</h3>
<ul>
<li>
<code>TX_LI</code> - Liver transplants</li>
<li>
<code>TX_KI</code> - Kidney transplants</li>
<li>
<code>TX_HR</code> - Heart transplants</li>
<li>
<code>TX_LU</code> - Lung transplants</li>
<li>
<code>TX_IN</code> - Intestine transplants</li>
<li>
<code>TX_PA</code> - Pancreas transplants</li>
</ul>
</div>
<div class="section level3">
<h3 id="candidate-files">Candidate Files<a class="anchor" aria-label="anchor" href="#candidate-files"></a>
</h3>
<ul>
<li>
<code>CAND_LIVA</code> - Liver candidates</li>
<li>
<code>CAND_KIDA</code> - Kidney candidates</li>
<li>
<code>CAND_THORA</code> - Heart candidates</li>
<li>
<code>CAND_LUNGA</code> - Lung candidates</li>
</ul>
</div>
<div class="section level3">
<h3 id="other-files">Other Files<a class="anchor" aria-label="anchor" href="#other-files"></a>
</h3>
<ul>
<li>
<code>DONOR</code> - Donor information</li>
<li>
<code>DONOR_DECEASED</code> - Deceased donor information</li>
<li>
<code>DONOR_LIVING</code> - Living donor information</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Examples of loading different file types</span></span>
<span><span class="va">liver_tx</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"TX_LI"</span>, var_labels <span class="op">=</span> <span class="cn">TRUE</span>, factor_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">kidney_cand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"CAND_KIDA"</span>, var_labels <span class="op">=</span> <span class="cn">TRUE</span>, factor_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">donors</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"DONOR"</span>, var_labels <span class="op">=</span> <span class="cn">TRUE</span>, factor_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h2>
<div class="section level3">
<h3 id="always-use-labels">1. Always Use Labels<a class="anchor" aria-label="anchor" href="#always-use-labels"></a>
</h3>
<p>Always load your data with both variable and factor labels for the
most informative analysis:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Recommended approach</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"TX_LI"</span>, var_labels <span class="op">=</span> <span class="cn">TRUE</span>, factor_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="check-your-data">2. Check Your Data<a class="anchor" aria-label="anchor" href="#check-your-data"></a>
</h3>
<p>Always examine your data after loading to ensure it loaded
correctly:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check dimensions</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check variable labels</span></span>
<span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">var_label</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check factor levels for key variables</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">DON_RACE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">GRAFT_STAT</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="document-your-file-sources">3. Document Your File Sources<a class="anchor" aria-label="anchor" href="#document-your-file-sources"></a>
</h3>
<p>Keep track of which SRTR files you’re using and their versions:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Good practice: document your data sources</span></span>
<span><span class="co"># TX_LI file loaded from SRTR SAF 2024Q1</span></span>
<span><span class="co"># Contains liver transplant data from 1987-2023</span></span>
<span><span class="va">tx_li</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_srtr_file.html">load_srtr_file</a></span><span class="op">(</span><span class="st">"TX_LI"</span>, var_labels <span class="op">=</span> <span class="cn">TRUE</span>, factor_labels <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<div class="section level3">
<h3 id="common-issues">Common Issues<a class="anchor" aria-label="anchor" href="#common-issues"></a>
</h3>
<div class="section level4">
<h4 id="file-not-found">File Not Found<a class="anchor" aria-label="anchor" href="#file-not-found"></a>
</h4>
<p>If you get a “file not found” error, check: - Is your working
directory set correctly with <code><a href="../reference/set_SRTR_wd.html">set_SRTR_wd()</a></code>? - Are your
files in the specified directory? - Are you using the correct file name
(without extension)?</p>
</div>
<div class="section level4">
<h4 id="labels-not-applied">Labels Not Applied<a class="anchor" aria-label="anchor" href="#labels-not-applied"></a>
</h4>
<p>If labels aren’t being applied: - Ensure you’re using the correct
file key - Check that your file name matches the expected SRTR
convention - Verify you’re using <code>var_labels = TRUE</code> and/or
<code>factor_labels = TRUE</code></p>
</div>
<div class="section level4">
<h4 id="memory-issues">Memory Issues<a class="anchor" aria-label="anchor" href="#memory-issues"></a>
</h4>
<p>For large files: - Consider loading only the variables you need -
Work with data in chunks if necessary - Ensure you have sufficient RAM
for your dataset</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<p>Now that you’ve learned the basics of loading and labeling SRTR data,
you might want to explore:</p>
<ul>
<li>
<strong>STROBE Analysis Workflows</strong>: Learn how to create
CONSORT/STROBE diagrams for your research</li>
</ul>
<p>For more advanced functionality, including STROBE diagram generation,
see the additional vignettes in this package.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Vagish Hemmige.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
